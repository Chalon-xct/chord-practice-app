GUITAR_CHORDS = {
    'C': [
        {'name': '开放 C', 'positions': [-1, 3, 2, 0, 1, 0], 'difficulty': 1},
        {'name': 'C 大横按', 'positions': [3, 3, 5, 5, 5, 3], 'difficulty': 3},
        {'name': 'C 简化版', 'positions': [-1, 3, 2, 0, 1, -1], 'difficulty': 1}
    ],
    'Cmaj7': [
        {'name': '开放 Cmaj7', 'positions': [-1, 3, 2, 0, 0, 0], 'difficulty': 2},
        {'name': 'Cmaj7 横按', 'positions': [3, 3, 5, 4, 5, 3], 'difficulty': 3}
    ],
    'Cm': [
        {'name': 'Cm 横按', 'positions': [3, 3, 5, 5, 4, 3], 'difficulty': 3},
        {'name': 'Cm 简化', 'positions': [-1, 3, 5, 5, 4, 3], 'difficulty': 3}
    ],
    'Cm7': [
        {'name': 'Cm7 横按', 'positions': [3, 3, 5, 3, 4, 3], 'difficulty': 3},
        {'name': 'Cm7 简化', 'positions': [-1, 3, 5, 3, 4, 3], 'difficulty': 3}
    ],
    'C7': [
        {'name': 'C7 开放', 'positions': [-1, 3, 2, 3, 1, 0], 'difficulty': 2},
        {'name': 'C7 横按', 'positions': [3, 3, 5, 3, 5, 3], 'difficulty': 3}
    ],
    'Csus4': [
        {'name': 'Csus4', 'positions': [-1, 3, 5, 5, 6, 3], 'difficulty': 2}
    ],
    'Csus2': [
        {'name': 'Csus2', 'positions': [-1, 3, 5, 5, 3, 3], 'difficulty': 2}
    ],
    'Caug': [
        {'name': 'Caug', 'positions': [-1, 3, 5, 5, 4, 3], 'difficulty': 3}
    ],
    'Cdim': [
        {'name': 'Cdim', 'positions': [-1, 3, 4, 5, 4, 3], 'difficulty': 3}
    ],
    
    'D': [
        {'name': '开放 D', 'positions': [-1, -1, 0, 2, 3, 2], 'difficulty': 1},
        {'name': 'D 横按', 'positions': [5, 5, 7, 7, 7, 5], 'difficulty': 3},
        {'name': 'D 简化', 'positions': [-1, -1, 0, 2, 3, -1], 'difficulty': 1}
    ],
    'Dmaj7': [
        {'name': 'Dmaj7 开放', 'positions': [-1, -1, 0, 2, 2, 2], 'difficulty': 2},
        {'name': 'Dmaj7 横按', 'positions': [5, 5, 7, 6, 7, 5], 'difficulty': 3}
    ],
    'Dm': [
        {'name': '开放 Dm', 'positions': [-1, -1, 0, 2, 3, 1], 'difficulty': 1},
        {'name': 'Dm 横按', 'positions': [5, 5, 7, 7, 6, 5], 'difficulty': 3}
    ],
    'Dm7': [
        {'name': 'Dm7 开放', 'positions': [-1, -1, 0, 2, 1, 1], 'difficulty': 2},
        {'name': 'Dm7 横按', 'positions': [5, 5, 7, 5, 6, 5], 'difficulty': 3}
    ],
    'D7': [
        {'name': 'D7 开放', 'positions': [-1, -1, 0, 2, 1, 2], 'difficulty': 2},
        {'name': 'D7 横按', 'positions': [5, 5, 7, 5, 7, 5], 'difficulty': 3}
    ],
    'Dsus4': [
        {'name': 'Dsus4', 'positions': [-1, -1, 0, 2, 3, 3], 'difficulty': 1}
    ],
    'Dsus2': [
        {'name': 'Dsus2', 'positions': [-1, -1, 0, 2, 3, 0], 'difficulty': 1}
    ],
    'Ddim': [
        {'name': 'Ddim', 'positions': [-1, -1, 0, 1, 0, 1], 'difficulty': 2}
    ],
    
    'E': [
        {'name': '开放 E', 'positions': [0, 2, 2, 1, 0, 0], 'difficulty': 1},
        {'name': 'E 横按', 'positions': [7, 7, 9, 9, 9, 7], 'difficulty': 3}
    ],
    'Emaj7': [
        {'name': 'Emaj7 开放', 'positions': [0, 2, 1, 1, 0, 0], 'difficulty': 2},
        {'name': 'Emaj7 横按', 'positions': [7, 7, 9, 8, 9, 7], 'difficulty': 3}
    ],
    'Em': [
        {'name': '开放 Em', 'positions': [0, 2, 2, 0, 0, 0], 'difficulty': 1},
        {'name': 'Em 横按', 'positions': [7, 7, 9, 9, 8, 7], 'difficulty': 3}
    ],
    'Em7': [
        {'name': 'Em7 开放', 'positions': [0, 2, 0, 0, 0, 0], 'difficulty': 1},
        {'name': 'Em7 横按', 'positions': [7, 7, 9, 7, 8, 7], 'difficulty': 3}
    ],
    'E7': [
        {'name': 'E7 开放', 'positions': [0, 2, 0, 1, 0, 0], 'difficulty': 1},
        {'name': 'E7 横按', 'positions': [7, 7, 9, 7, 9, 7], 'difficulty': 3}
    ],
    'Esus4': [
        {'name': 'Esus4', 'positions': [0, 2, 2, 2, 0, 0], 'difficulty': 1}
    ],
    'Esus2': [
        {'name': 'Esus2', 'positions': [0, 2, 4, 1, 0, 0], 'difficulty': 2}
    ],
    'Edim': [
        {'name': 'Edim', 'positions': [0, 1, 0, 1, 0, 0], 'difficulty': 2}
    ],
    
    'F': [
        {'name': 'F 大横按', 'positions': [1, 3, 3, 2, 1, 1], 'difficulty': 4},
        {'name': 'F 简化', 'positions': [-1, -1, 3, 2, 1, 1], 'difficulty': 3},
        {'name': 'F 小横按', 'positions': [1, 3, 3, 2, 1, -1], 'difficulty': 3}
    ],
    'Fmaj7': [
        {'name': 'Fmaj7 开放', 'positions': [-1, -1, 3, 2, 1, 0], 'difficulty': 2},
        {'name': 'Fmaj7 横按', 'positions': [1, 3, 2, 2, 1, 1], 'difficulty': 4}
    ],
    'Fm': [
        {'name': 'Fm 横按', 'positions': [1, 3, 3, 1, 1, 1], 'difficulty': 4},
        {'name': 'Fm 简化', 'positions': [-1, -1, 3, 1, 1, 1], 'difficulty': 3}
    ],
    'Fm7': [
        {'name': 'Fm7 横按', 'positions': [1, 3, 1, 1, 1, 1], 'difficulty': 4}
    ],
    'F7': [
        {'name': 'F7 横按', 'positions': [1, 3, 1, 2, 1, 1], 'difficulty': 4}
    ],
    'Fsus4': [
        {'name': 'Fsus4', 'positions': [1, 3, 3, 3, 1, 1], 'difficulty': 3}
    ],
    
    'G': [
        {'name': '开放 G', 'positions': [3, 2, 0, 0, 0, 3], 'difficulty': 1},
        {'name': 'G 简化', 'positions': [3, 2, 0, 0, 0, -1], 'difficulty': 1},
        {'name': 'G 横按', 'positions': [3, 5, 5, 4, 3, 3], 'difficulty': 3}
    ],
    'Gmaj7': [
        {'name': 'Gmaj7 开放', 'positions': [3, 2, 0, 0, 0, 2], 'difficulty': 2},
        {'name': 'Gmaj7 横按', 'positions': [3, 5, 4, 4, 3, 3], 'difficulty': 3}
    ],
    'Gm': [
        {'name': 'Gm 横按', 'positions': [3, 5, 5, 3, 3, 3], 'difficulty': 3},
        {'name': 'Gm 简化', 'positions': [-1, -1, 5, 3, 3, 3], 'difficulty': 3}
    ],
    'Gm7': [
        {'name': 'Gm7 横按', 'positions': [3, 5, 3, 3, 3, 3], 'difficulty': 3}
    ],
    'G7': [
        {'name': 'G7 开放', 'positions': [3, 2, 0, 0, 0, 1], 'difficulty': 1},
        {'name': 'G7 横按', 'positions': [3, 5, 3, 4, 3, 3], 'difficulty': 3}
    ],
    'Gsus4': [
        {'name': 'Gsus4', 'positions': [3, 5, 5, 5, 3, 3], 'difficulty': 2}
    ],
    'Gsus2': [
        {'name': 'Gsus2', 'positions': [3, 5, 5, 5, 3, -1], 'difficulty': 2}
    ],
    'Gdim': [
        {'name': 'Gdim', 'positions': [-1, -1, 5, 6, 5, 6], 'difficulty': 3}
    ],
    
    'A': [
        {'name': '开放 A', 'positions': [-1, 0, 2, 2, 2, 0], 'difficulty': 1},
        {'name': 'A 横按', 'positions': [5, 7, 7, 6, 5, 5], 'difficulty': 3}
    ],
    'Amaj7': [
        {'name': 'Amaj7 开放', 'positions': [-1, 0, 2, 1, 2, 0], 'difficulty': 2},
        {'name': 'Amaj7 横按', 'positions': [5, 7, 6, 6, 5, 5], 'difficulty': 3}
    ],
    'Am': [
        {'name': '开放 Am', 'positions': [-1, 0, 2, 2, 1, 0], 'difficulty': 1},
        {'name': 'Am 横按', 'positions': [5, 7, 7, 5, 5, 5], 'difficulty': 3}
    ],
    'Am7': [
        {'name': 'Am7 开放', 'positions': [-1, 0, 2, 0, 1, 0], 'difficulty': 1},
        {'name': 'Am7 横按', 'positions': [5, 7, 5, 5, 5, 5], 'difficulty': 3}
    ],
    'A7': [
        {'name': 'A7 开放', 'positions': [-1, 0, 2, 0, 2, 0], 'difficulty': 1},
        {'name': 'A7 横按', 'positions': [5, 7, 5, 6, 5, 5], 'difficulty': 3}
    ],
    'Asus4': [
        {'name': 'Asus4', 'positions': [-1, 0, 2, 2, 3, 0], 'difficulty': 1}
    ],
    'Asus2': [
        {'name': 'Asus2', 'positions': [-1, 0, 2, 2, 0, 0], 'difficulty': 1}
    ],
    'Adim': [
        {'name': 'Adim', 'positions': [-1, 0, 1, 0, 1, 0], 'difficulty': 2}
    ],
    
    'B': [
        {'name': 'B 横按', 'positions': [7, 9, 9, 8, 7, 7], 'difficulty': 4},
        {'name': 'B 简化', 'positions': [-1, 2, 4, 4, 4, 2], 'difficulty': 3}
    ],
    'Bmaj7': [
        {'name': 'Bmaj7 横按', 'positions': [7, 9, 8, 8, 7, 7], 'difficulty': 4}
    ],
    'Bm': [
        {'name': 'Bm 横按', 'positions': [7, 9, 9, 7, 7, 7], 'difficulty': 3},
        {'name': 'Bm 简化', 'positions': [-1, 2, 4, 4, 3, 2], 'difficulty': 3}
    ],
    'Bm7': [
        {'name': 'Bm7 横按', 'positions': [7, 9, 7, 7, 7, 7], 'difficulty': 3},
        {'name': 'Bm7 简化', 'positions': [-1, 2, 4, 2, 3, 2], 'difficulty': 3}
    ],
    'B7': [
        {'name': 'B7 横按', 'positions': [7, 9, 7, 8, 7, 7], 'difficulty': 4}
    ],
    'Bsus4': [
        {'name': 'Bsus4', 'positions': [7, 9, 9, 9, 7, 7], 'difficulty': 3}
    ],
    'Bdim': [
        {'name': 'Bdim', 'positions': [-1, 2, 3, 4, 3, 4], 'difficulty': 3}
    ],
    
    'Em9': [
        {'name': 'Em9 开放', 'positions': [0, 2, 0, 2, 0, 0], 'difficulty': 2}
    ],
    'Asus2/A': [
        {'name': 'Asus2', 'positions': [-1, 0, 2, 2, 0, 0], 'difficulty': 1}
    ]
}


def get_chord_positions(chord_name):
    normalized = chord_name.replace('min', 'm')
    
    if normalized in GUITAR_CHORDS:
        return GUITAR_CHORDS[normalized]
    
    base_note = normalized[0]
    suffix = normalized[1:]
    
    if suffix == 'm7':
        base_chord = base_note + 'm'
        if base_chord in GUITAR_CHORDS:
            return GUITAR_CHORDS[base_chord]
    
    if suffix == 'maj7':
        base_chord = base_note
        if base_chord in GUITAR_CHORDS:
            positions = []
            for pos in GUITAR_CHORDS[base_chord]:
                new_pos = pos.copy()
                new_pos['name'] = pos['name'].replace(base_note, base_note + 'maj7', 1)
                positions.append(new_pos)
            return positions
    
    return None
